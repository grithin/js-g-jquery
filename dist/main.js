(function(){global="undefined"!=typeof global&&global||"undefined"!=typeof window&&window||this;var t;t=global.$||global.jQuery||require("jquery"),global.$=t,t.fn.extractInput=function(){var n;return n={},t("[name]",t(this)).addBack().filter("[name]").each(function(){var i,e,r;return i=t(this),e=i.attr("name"),r="checkbox"===t(this).attr("type")?t(this).prop("checked")?t(this).val():"":i.val(),void 0===n[e]?n[e]=r:n[e].push?n[e].push(r):n[e]=[n[e]].concat(r)}),n},t.fn.hasAttr=function(t){return"undefined"!=typeof this.attr(t)&&this.attr(t)!==!1},t.json=function(n){var i;return arguments.length>1&&console.warn("$.json expects one argument, and obj"),i={contentType:"application/json",dataType:"json",method:"POST"},n.data&&"string"!=typeof n.data&&(n.data=JSON.stringify(n.data)),n=_.defaults(n,i),t.ajax(n)},t.file=function(n,i){var e,r;return e=new FormData,n.data&&e.append("_json",JSON.stringify(n.data)),i.map(function(n,i){e.append(t(n).attr("name"),n.files[0])}),n.url=n.url||window.location,r=new XMLHttpRequest,r.open("POST",n.url),r.send(e),r},t.eachApply=function(n,i){t(n).each(i)},t.fn.setEnterSubmit=function(){t("input",t(this)).keypress(function(n){13===n.which&&t(this).submit()})},t.fn.fillInputs=function(n){t('[name]:not([type="submit"])',t(this)).each(function(){var i;i=t(this).attr("name"),n.hasOwnProperty(i)&&t(this).fillInput(n[i])})},t.fn.fillInput=function(n){if("checkbox"!==t(this).attr("type"))return t(this).val(n||"");if(_.isArray(n)){if(n=n.map(function(t){return t+""}),n.indexOf(t(this).val())!==-1)return t(this).prop("checked",!0)}else if(n&&"0"!==n)return t(this).prop("checked",!0)},t.fn.clearInputs=function(){return t("[name]",t(this)).addBack().filter("[name]").each(function(){var n;return n=t(this),"checkbox"===n.attr("type")?n.prop("checked",!1):n.val("")}),$el},t.fn.fillOptions=function(n){var i;for(i in n)t(this).append(t("<option>").val(n[i][0]).text(n[i][1]))},t.fn.childTexts=function(n){var i;return i=[],t(this).contents().filter(function(){return 3===this.nodeType}).each(function(){i.push(_.trim(t(this).text()))}),n||(i=_.remove(i)),i},t.uniqueId=new function(){this.ids={},this.get=function(n){return function(){var i;return i="unique-"+(""+Math.random()).slice(2),n.ids[i]?n.get():t("#unique-"+i).size()?n.get():(n.ids[i]=!0,i)}}(this),this.is=function(t){return function(n){return!!t.ids[n]}}(this)},t.fn.uniqueId=function(){var n;return n=t(this).attr("id"),n||(n=t.uniqueId.get(),t(this).attr("id",n)),n},t.fn.childless=function(){return t(this).children().length?t("*:not(:has(*))",this):t(this)},t.fn.un_attach=function(){return t(this).data("detached_from",t(this).parent()),t(this).data("detached_index",t(this).index()),t(this).detach()},t.fn.re_attach=function(){var n,i,e;return i=t(this).data("detached_from"),n=t(this).data("detached_index"),e=t(":lt("+n+"):last",i),e.size()?e.after(t(this)):i.append(t(this))},t.fn.isDetached=function(){return!!t(this).data("detached_from")||!t(this).parent().size()&&!t.contains(document,this)},t.fn.outerHTML=function(){return t(this)[0]?t(this)[0].outerHTML:t("<div>").append(t(this).clone()).html()},t.conform=function(n){var i;return i=t("<div>").html(n),i.children().size()?i.children().first():i},t.fn.toSelf=function(n){return t(this).text(n(t(this).text()))},t.include_once=function(n){var i,e;return this.started||(this.started=!0,e=this,t("link").each(function(){return e.included[t(this).attr("href")]=Promise.resolve()}),t("script").each(function(){return e.included[t(this).attr("src")]=Promise.resolve()})),this.included[n]||(i=Url.parse(n).pathname.split(".").pop(),"js"===i?this.included[n]=t.ajax({dataType:"script",cache:!0,url:n}):"css"===i&&(t('<link rel="stylesheet" type="text/css" >').attr("href",n).appendTo("body"),this.included[n]=Promise.resolve())),this.included[n]}.bind(_.makeInstance({started:!1,included:{}})),t.fn.all=function(){return t("*",t(this)).addBack()},t.fn.firstMatch=function(n){return t(this).all().find(n).first()},t.fn.href=function(n){return 1===arguments.length?t(this).attr("href",n):t(this).attr("href")},t.fn.id=function(n){return 1===arguments.length?t(this).attr("id",n):t(this).attr("id")},t.fn.dataId=function(){var n,i;return t(this).hasAttr("data-id")?t(this).attr("data-id"):(i=t(this).parents("[data-id]:first"),i.size()?i.attr("data-id"):(n=t(this).find("[data-id]"),1===n.size()?n.attr("data-id"):void 0))},t.fn.txt=function(n){return void 0===n?t(this).hasAttr("value")?t(this).attr("value"):t(this).text():t(this).hasAttr("value")?t(this).attr("value",n):t(this).text(n)},t.fn.shown=function(){return"none"===t(this).css("display")}}).call(this);
//# sourceMappingURL=main.js.map
